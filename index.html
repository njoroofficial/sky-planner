<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="./assets/bootstrap-icons/font/bootstrap-icons.css"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css" />

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      defer
    ></script>
    <script src="script.js" defer></script>
    <title>Sky-Planner</title>
  </head>
  <body>
    <!-- Navigation Header -->
    <nav class="navbar navbar-expand-lg navbar-light bg-primary-gradient">
      <div class="container-fluid">
        <span class="navbar-brand mb-0 h1 text-white">
          <i class="bi bi-cloud-sun-fill me-2"></i>
          Sky-Planner
        </span>
        <span class="navbar-brand mb-0 h1 text-white">
          Plan smarter with real-time weather insights
        </span>
      </div>
    </nav>

    <!-- Main WebPage -->
    <div class="container-fluid py-4">
      <div class="row g-4">
        <!-- Left Sidebar: Event Creation & List -->

        <div class="col-12 col-lg-4">
          <!-- Add New Event Card -->
          <div class="card shadow-sm mb-4">
            <div class="card-header bg-light">
              <h5 class="card-title mb-0">
                <i class="bi bi-plus-circle-fill text-primary me-2"></i>
                Create New Event
              </h5>
            </div>
            <!-- Card Body -->
            <div class="card-body">
              <!-- Form -->
              <form id="eventForm">
                <div class="mb-3">
                  <label for="eventName" class="form-label">Event Name</label>
                  <input
                    type="text"
                    class="form-control"
                    id="eventName"
                    placeholder="Enter event name (e.g. Picnic at Central Park)"
                    required
                  />
                </div>
                <div class="mb-3">
                  <label for="eventLocation" class="form-label">Location</label>
                  <input
                    type="text"
                    class="form-control"
                    id="eventLocation"
                    placeholder="Enter location (e.g. Nairobi, Kenya)"
                    required
                  />
                </div>

                <div class="mb-3">
                  <label for="eventDate" class="form-label">Date</label>
                  <input
                    type="date"
                    class="form-control"
                    id="eventDate"
                    required
                  />
                </div>
                <div class="mb-3">
                  <label for="eventTime" class="form-label">Time</label>
                  <input
                    type="time"
                    class="form-control"
                    id="eventTime"
                    required
                  />
                </div>

                <button type="submit" class="btn btn-primary w-100">
                  <i class="bi bi-calendar-plus me-1"></i>
                  Create Event
                </button>
              </form>
            </div>
          </div>

          <!-- Upcoming Events List -->
          <div class="card shadow-sm">
            <div class="card-header bg-light">
              <h5 class="card-title mb-0">
                <i class="bi bi-calendar-event text-primary me-2"></i>
                Upcoming Events
              </h5>
            </div>
            <!-- Card Body -->
            <div class="card-body p-0">
              <div id="eventsList" class="list-group list-group-flush">
                <!-- Sample Event 1 -->
                <div class="list-group-item event-item" data-event-id="1">
                  <div class="d-flex justify-content-between align-items-start">
                    <div class="event-info flex-grow-1">
                      <h6 class="mb-1 text-primary">Picnic @ Central Park</h6>
                      <p class="mb-1 text-muted small">
                        <i class="bi bi-geo-alt me-1"></i>Nairobi, Kenya
                      </p>
                      <p class="mb-0 text-muted small">
                        <i class="bi bi-clock me-1"></i>Oct 20, 2025 at 2:00 PM
                      </p>
                    </div>
                    <div class="text-end">
                      <span class="badge bg-warning text-dark mb-2">
                        <i class="bi bi-exclamation-triangle-fill me-1"></i>
                        Medium Risk
                      </span>
                      <br />
                      <button
                        class="btn btn-outline-primary btn-sm view-details-btn"
                        data-event-id="1"
                      >
                        View Details
                      </button>
                    </div>
                  </div>
                </div>

                <!-- Sample Event 2 -->
                <div class="list-group-item event-item" data-event-id="2">
                  <div class="d-flex justify-content-between align-items-start">
                    <div class="event-info flex-grow-1">
                      <h6 class="mb-1 text-primary">Football Match</h6>
                      <p class="mb-1 text-muted small">
                        <i class="bi bi-geo-alt me-1"></i>Mombasa, Kenya
                      </p>
                      <p class="mb-0 text-muted small">
                        <i class="bi bi-clock me-1"></i>Oct 21, 2025 at 4:00 PM
                      </p>
                    </div>
                    <div class="text-end">
                      <span class="badge bg-success mb-2">
                        <i class="bi bi-check-circle-fill me-1"></i>
                        Low Risk
                      </span>
                      <br />
                      <button
                        class="btn btn-outline-primary btn-sm view-details-btn"
                        data-event-id="2"
                      >
                        View Details
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Main Content: Event Details & Weather Analysis -->

        <div class="col-12 col-lg-8">
          <div id="eventDetailsContainer">
            <!-- Default Welcome Message -->
            <div id="welcomeMessage" class="card shadow-sm">
              <div class="card-body text-center py-5">
                <!-- welcome text header -->
                <div class="weather-hero mb-4">
                  <i class="bi bi-cloud-sun display-1 text-primary mb-3"></i>
                  <h3 class="text-primary">
                    Welcome to Weather‑Aware Event Planner
                  </h3>
                  <p class="text-muted lead">
                    Plan your outdoor events with confidence using real-time
                    weather insights.
                  </p>
                </div>
                <div class="row text-center">
                  <!-- weather small info card -->
                  <div class="col-md-4">
                    <div class="feature-icon">
                      <i
                        class="bi bi-thermometer-sun display-6 text-warning"
                      ></i>
                      <h6 class="mt-2">Weather Analysis</h6>
                      <p class="small text-muted">
                        Real-time weather conditions and forecasts
                      </p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="feature-icon">
                      <i
                        class="bi bi-exclamation-triangle display-6 text-danger"
                      ></i>
                      <h6 class="mt-2">Risk Assessment</h6>
                      <p class="small text-muted">
                        Smart recommendations for event timing
                      </p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="feature-icon">
                      <i class="bi bi-list-check display-6 text-success"></i>
                      <h6 class="mt-2">Packing Lists</h6>
                      <p class="small text-muted">
                        Weather-based preparation suggestions
                      </p>
                    </div>
                  </div>
                </div>
                <p class="text-muted mt-4">
                  Select an event from the sidebar or create a new one to get
                  started.
                </p>
              </div>
            </div>

            <!-- Event Details Template (Hidden by default)-->
            <div id="eventDetailsTemplate" class="d-none">
              <!-- Event Header -->
              <div class="card shadow-sm mb-4">
                <div class="card-header">
                  <div
                    class="d-flex justify-content-between align-items-center"
                  >
                    <div>
                      <h4 class="mb-1" id="eventTitle">Event Title</h4>
                      <p class="mb-0 text-muted">
                        <i class="bi bi-geo-alt me-1"></i>
                        <span id="eventLocationDisplay">Location</span>
                        <span class="mx-2">•</span>
                        <i class="bi bi-calendar3 me-1"></i>
                        <span id="eventDateTime">Date & Time</span>
                      </p>
                    </div>
                    <div class="text-end">
                      <span id="riskBadge" class="badge fs-6 mb-2"
                        >Risk Level</span
                      >
                      <br />
                      <button
                        class="btn btn-outline-secondary btn-sm me-2"
                        onclick="downloadChecklist()"
                      >
                        <i class="bi bi-download me-1"></i>Download
                      </button>
                      <button
                        class="btn btn-outline-primary btn-sm"
                        onclick="shareEvent()"
                      >
                        <i class="bi bi-share me-1"></i>Share
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Weather Analysis -->
              <div class="card shadow-sm mb-4">
                <div class="card-header">
                  <h5 class="mb-0">
                    <i class="bi bi-cloud-sun text-primary me-2"></i>
                    Weather Analysis
                  </h5>
                </div>
                <div class="card-body">
                  <div class="row">
                    <div class="col-md-6">
                      <div class="weather-overview">
                        <div class="d-flex align-items-center mb-3">
                          <i
                            class="bi bi-thermometer-half display-6 text-info me-3"
                          ></i>
                          <div>
                            <h2 class="mb-0" id="temperature">21°C</h2>
                            <p class="mb-0 text-muted" id="weatherCondition">
                              Partly Cloudy
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="weather-details">
                        <div class="weather-metric mb-2">
                          <i class="bi bi-droplet text-primary me-2"></i>
                          <span
                            >Precipitation:
                            <strong id="precipitation">10%</strong></span
                          >
                        </div>
                        <div class="weather-metric mb-2">
                          <i class="bi bi-wind text-primary me-2"></i>
                          <span
                            >Wind: <strong id="windSpeed">13 km/h</strong></span
                          >
                        </div>
                        <div class="weather-metric mb-2">
                          <i
                            class="bi bi-brightness-high text-warning me-2"
                          ></i>
                          <span
                            >UV Index:
                            <strong id="uvIndex">7 (High)</strong></span
                          >
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Weather Alert -->
                  <div id="weatherAlert" class="alert alert-warning mt-3">
                    <i class="bi bi-exclamation-triangle-fill me-2"></i>
                    <strong>Weather Notice:</strong>
                    <span id="alertMessage"
                      >Moderate risk conditions detected. Consider the
                      recommendations below.</span
                    >
                  </div>
                </div>
              </div>

              <!-- Recommendation Row -->
              <div class="row g-4">
                <!-- Recommended Time Slots -->
                <div class="col-md-6">
                  <div class="card shadow-sm h-100">
                    <div class="card-header">
                      <h5 class="mb-0">
                        <i class="bi bi-clock text-primary me-2"></i>
                        Recommended Times
                      </h5>
                    </div>
                    <div class="card-body">
                      <div id="timeSlots">
                        <div
                          class="time-slot d-flex justify-content-between align-items-center mb-2"
                        >
                          <span><i class="bi bi-clock me-1"></i>11:00 AM</span>
                          <span class="badge bg-success">Low Risk</span>
                        </div>
                        <div
                          class="time-slot d-flex justify-content-between align-items-center mb-2"
                        >
                          <span><i class="bi bi-clock me-1"></i>2:00 PM</span>
                          <span class="badge bg-warning text-dark"
                            >Medium Risk</span
                          >
                        </div>
                        <div
                          class="time-slot d-flex justify-content-between align-items-center"
                        >
                          <span><i class="bi bi-clock me-1"></i>4:00 PM</span>
                          <span class="badge bg-danger">High Risk</span>
                        </div>
                      </div>
                      <div class="mt-3">
                        <button
                          class="btn btn-outline-warning btn-sm w-100"
                          onclick="rescheduleEvent()"
                        >
                          <i class="bi bi-calendar-x me-1"></i>
                          Reschedule Event
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Packing Checklist -->
                <div class="col-md-6">
                  <div class="card shadow-sm h-100">
                    <div class="card-header">
                      <h5 class="mb-0">
                        <i class="bi bi-list-check text-primary me-2"></i>
                        Packing Checklist
                      </h5>
                    </div>
                    <div class="card-body">
                      <div id="packingList">
                        <div class="form-check mb-2">
                          <input
                            class="form-check-input"
                            type="checkbox"
                            id="item1"
                          />
                          <label class="form-check-label" for="item1">
                            <i class="bi bi-umbrella me-1"></i>Umbrella
                          </label>
                        </div>
                        <div class="form-check mb-2">
                          <input
                            class="form-check-input"
                            type="checkbox"
                            id="item2"
                          />
                          <label class="form-check-label" for="item2">
                            <i class="bi bi-coat-hanger me-1"></i>Light jacket
                          </label>
                        </div>
                        <div class="form-check mb-2">
                          <input
                            class="form-check-input"
                            type="checkbox"
                            id="item3"
                          />
                          <label class="form-check-label" for="item3">
                            <i class="bi bi-sun me-1"></i>Sunscreen
                          </label>
                        </div>
                        <div class="form-check mb-2">
                          <input
                            class="form-check-input"
                            type="checkbox"
                            id="item4"
                          />
                          <label class="form-check-label" for="item4">
                            <i class="bi bi-droplet me-1"></i>Water bottle
                          </label>
                        </div>
                        <div class="form-check">
                          <input
                            class="form-check-input"
                            type="checkbox"
                            id="item5"
                          />
                          <label class="form-check-label" for="item5">
                            <i class="bi bi-bag me-1"></i>Picnic blanket
                          </label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
